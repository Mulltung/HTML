<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
	<script type="text/javascript">
	 	/* 주민등록번호를 입력 받아 생년월일과 설별을 출력한다.
	 		1. 주번 입력 => prompt / input
	 		2. 생년월일 출력
	 		3. 성별 출력
	 	*/	 
// 	 	var person = prompt("주민등록번호를 입력하시오","000000-0000000 형식으로 입력");
// 	 	var year = person.substring(0,2);
// 	 	var month = person.substring(2,4);
// 	 	var day = person.substring(4,6)
// 	 	var gender = "" ;
	 	
// 	 	var tem = person.charAt(7)
		
	 	
// 	 	if (tem == "1" || tem == "3"){
// 	 		gender = "남자";
// 	 	}else if(tem == "2" || tem == "4"){
// 	 		gender = "여자";
// 	 	}else if(tem == "1" && tem == "2"){
// 	 		year = "19" + year;
// 	 	}else if(tem == "3" && tem == "4"){
// 	 	}	year = "20" + year;
	 	
	 	
// 	 	document.write("생일 : "  year +"년"+month+"월"+day+"일"+"<br>");
// 	 	document.write("성별 : " + gender +"<br>");
// 	 	document.write("나이 :"+  + "<br>");
	 	

	 	
	 	
	 	
	 	//함수로 이용
	 	function proc(){
	 		var val = document.getElementById("jumin").value;
	 		
	 		var year = val.substring(0,2);
		 	var month = val.substring(2,4);
		 	var day = val.substring(4,6);
		 	var gender = "" ;
		 	
		 	var tmp2 = val.charAt(7);
		 	
		 	
		 	if (tmp2 == "1" || tmp2 == "3"){
		 		gender = "남자";
		 	}else if(tmp2 == "2" || tmp2 == "4"){
		 		gender = "여자";
		 	}
		 	
		 	if(tmp2 == "1" || tmp2 == "2"){
		 		year = "19" + year;
		 	}else if(tmp2 == "3" || tmp2 == "4"){
		 		year = "20" + year;
		 	}
		 	
		 	document.getElementById("spYear").innerHTML = year;
		 	document.getElementById("spMonth").innerHTML = month;
		 	document.getElementById("spDay").innerHTML = day;
		 	document.getElementById("spGender").innerHTML = gender;
	 	}
	</script>
</head>
<body>
	주민등록번호 : <input type = "text" id="jumin">
	<button type ="button" onclick="proc()">확인</button>
	<hr>
	연도 :<span id ="spYear"></span><br>
	월 : <span id = "spMonth"></span><br>
	일 : <span id = "spDay"></span><br>
	성별 :<span id = "spGender"></span><br>
	
	<hr>
	<hr>
	<h3>주민등록번호 유효성 검사</h3>
	주민등록번호 : <input type ="text" id ="sisi">
	<button type ="button" onclick="proc2()">검사</button>
	<hr>
	검사결과 :<span id ="res"></span><br>
	
	<hr>
	<hr>
	
	
	<script type="text/javascript">
		function proc2() {
			var check = document.getElementById("sisi").value;
			var M =parseInt(check.substr(13,1));
			

			var sum = (parseInt(check.substr(0,1)) * 2)
					+ (parseInt(check.substr(1,1)) * 3)
					+ (parseInt(check.substr(2,1)) * 4)
					+ (parseInt(check.substr(3,1)) * 5)
					+ (parseInt(check.substr(4,1)) * 6)
					+ (parseInt(check.substr(5,1)) * 7)
					+ (parseInt(check.substr(7,1)) * 8)
					+ (parseInt(check.substr(8,1)) * 9)
					+ (parseInt(check.substr(9,1)) * 2)
					+ (parseInt(check.substr(10,1)) * 3)
					+ (parseInt(check.substr(11,1)) * 4)
					+ (parseInt(check.substr(12,1)) * 5);
			
			
			var i = sum % 11 ;
			
			var j = 11 - i;
			
			if(j>=0 && j<=9){
				
			}else if(j==10){
				j=0;
			}else if(j==11){
				j=1;
			}
			
			var flag = false;
			if(j==M){
				flag = true;
				document.getElementById("res").innerHTML = flag;
			}else{
				flag = false;
				document.getElementById("res").innerHTML = flag;
			}
			
			
			
			
		}
			
	</script>
</body>
</html>