<!DOCTYPE html>
<html lang="kr">
<head>
<meta charset="UTF-8">
	<title>Insert title here</title>
	<script src="../../js/jquery-3.6.0.js"></script>
	<script type="text/javascript">
		var obj = {
				   name: "홍길동"
				  ,birth: "1425-12-14"
				  ,age: 30
				  ,address: {
					  		nation: "조선"
					  		,city:"전라도"}
				  ,hobby:["무술","검술","독서"]
			      } 
// 		obj.name ==> "홍길동"
// 		obj.hobby ==> ["무술","검술","독서"]
// 		obj.address ==> object
// 		obj.address.city ==> "전라도"
		$(document).ready(function() {
			$("button").click(function() {
				// 1) 1차변환(obj > str)
				// object를 string으로 변환하기 - JSON.stringify(obj)
				var strTmp = JSON.stringify(obj);
				$("#spanFirst").text(strTmp);
				
				
				// 2) 2차변환(str > obj)
				// string을 object로 변환하기 - JSON.parse(str)
				var objTmp = JSON.parse(strTmp);
				$("#spanSecond").text(objTmp);
				// .html()이 아닌 .text()로 표시할 것~
				
				
				// 3) 나머지 표시해주기
				// 이름
				//$("#name").html();
				$("#name").text(objTmp.name);
				
				// 주소 - address
				// 객체를 받아서 출력하기
				$("#address").text(objTmp.address.nation
							+ " " + objTmp.address.city);
				
				// 취미 - hobby
				// html과 text 차이가 있다.
				// 배열을 받아서 출력하기
				// 고객 요청시 ,를 쉽게 바꿀 수 있다.
				$("#hobby").text(objTmp.hobby);
				var strHobby = "";
				for(var i=0; i<objTmp.hobby.length ; i++){
					strHobby += objTmp.hobby[i] + ", ";
				}
				strHobby = strHobby.substr(0, strHobby.length-2);
				$("#hobby").text(strHobby);
				
				// 생년월일 - birthday
				//$("#birthday").text(objTmp.birth);
				// date로 출력하기
				var date = new Date(objTmp.birth);
				$("#birthday").text(date);
				
			});
			
		});
		// 넣어줄 빈공간은 span으로 설정한다.
	</script>
</head>
<body>
	<button id="btn1">JSON 변환 테스트</button>
	<p>1차변환(obj > str) : <span id="spanFirst"></span></p>
	<p>2차변환(str > obj) : <span id="spanSecond"></span></p>
	<p>이름 : <span id="name"></span></p>
	<p>주소 : <span id="address"></span></p>
	<p>취미 : <span id="hobby"></span></p>
	<p>생년월일: <span id="birthday"></span></p>
</body>
</html>